serverless-offline:
  httpPort: 3001
  noPrependStageInUrl: true
  apiKey: ${self:custom.service.apiKey.${sls:stage}}
  disableScheduledEvents: true

serverless-iam-roles-per-function:
  defaultInherit: true

service:
  name: ${self:service}-${sls:stage}
  warmup:
    description: Warm up function each five minutes
    rate: rate(5 minutes)
    enabled: ${self:custom.service.warmupEnabled.${sls:stage}}
    input: '{"warmup":true}'
  # by environment
  region:
    dev: us-east-1
    prd: sa-east-1
  domain:
    dev: dev.api.omie-harbor.app
    prd: api.omie-harbor.app
  apiKey:
    dev: d41d8cd98f00b204e9800998ecf8427e
    prd: ${param:API_KEY, env:API_KEY}
  warmupEnabled:
    dev: false
    prd: false
  ingestionDispatcherScheduleRate:
    dev: cron(0 8 ? * * *) # everyday at 08:00 UTC (05:00 BR)
    prd: cron(0 9 ? * * *) # everyday at 09:00 UTC (06:00 BR)
  dataExportMemorySize:
    dev: 4096
    prd: 4096 
    # prd: 3008 